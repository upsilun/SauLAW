<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SauLAW - Your Saudi AI Lawyer ⚖️</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-50 text-gray-900 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="menu-container" id="drop_menu">
        <button class="menu-btn">Report issue</button>
    </div>

    <div class="w-full max-w-2xl h-[85vh] flex flex-col bg-white rounded-2xl shadow-xl"
        style="border: 2px solid black;">
        <!-- Header -->
        <div class="p-4 border-b border-gray-200 flex items-center justify-between rounded-t-2xl"
            style="background-color: #F1EEE9;">
            <img src="SauLAW.png" alt="SauLAW Logo" style="width: 20rem;"
                onerror="this.style.display='none'; this.parentElement.insertAdjacentHTML('afterbegin', '<h1 class=\'text-2xl font-bold text-gray-800\'>Agent AI</h1>')">
            <i id="drop_down" class="bi bi-list" onclick="drop_menu()"></i>
        </div>

        <!-- Chat History -->
        <div id="chat-history" class="flex-1 p-6 overflow-y-auto">
            <!-- Initial AI Greeting -->
            <div class="flex justify-start">
                <div class="chat-bubble chat-bubble-ai space-y-4">
                    Hello! I am SauLAW. Im your Saudi lawyer and assistant. How can I help you?
                </div>
            </div>
            <div class="chat-bubble chat-bubble-ai" style="text-align: right; width: fit-content;">
                ياهلا. انا مساعدك القانوني. كيف اقدر اساعدك؟
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loading-indicator" class="hidden p-6 pt-0">
            <div class="flex items-center justify-start">
                <div class="chat-bubble chat-bubble-ai flex items-center">
                    <div class="loader mr-3"></div>
                    <span>Thinking...</span>
                </div>
            </div>
        </div>

        <!-- Advanced Settings -->
        <div id="advanced-settings" class="p-4 border-t border-gray-200 bg-gray-50" style="display: none;">
            <details>
                <summary class="cursor-pointer text-sm font-medium text-gray-600 hover:text-gray-800">
                    Custom Instructions & File Upload
                </summary>
                <div>
                    <label for="file-upload"
                        class="inline-block bg-white hover:bg-gray-100 text-gray-800 text-sm font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm cursor-pointer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="inline-block mr-2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                        <span>Upload Image or PDF</span>
                    </label>
                    <input type="file" id="file-upload" accept=".txt,.pdf">
                    <span id="file-name" class="ml-3 text-sm text-gray-500">No file selected.</span>
                    <button id="clear-file-btn" class="hidden ml-2 text-xs text-red-500 hover:text-red-700">&times;
                        clear</button>
                </div>
                <br>
                <div class="mt-4 space-y-4">
                    <div>
                        <label for="system-prompt" class="block text-xs font-medium text-gray-700 mb-1">Custom System
                            Prompt</label>
                        <textarea id="system-prompt" rows="3"
                            class="w-full p-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">SauLAW Default System Prompt (Simplified) You are SauLAW (Saudi LAW AI) in arabic (نظام القانون السعودي بالذكاء الاصطناعي ساولاو). Language: Always answer in the same language the user asks. Scope: Only answer questions about Saudi laws and regulations from https://www.boe.gov.sa dont answer anything rather than that! no math questions</textarea>
                    </div>
                </div>
            </details>
        </div>

        <!-- Input Area -->
        <div class="p-4 border-t border-gray-200 bg-white rounded-b-2xl">

            <div class="flex items-center space-x-3">

                <input type="text" id="user-input"
                    class="flex-1 w-full px-4 py-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300"
                    placeholder="Ask me anything...">
                <button id="send-btn"
                    class="bg-blue-500 text-white rounded-full p-3 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-transform duration-200 active:scale-95 disabled:bg-blue-300 disabled:cursor-not-allowed"
                    disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-arrow-up">
                        <line x1="12" y1="19" x2="12" y2="5"></line>
                        <polyline points="5 12 12 5 19 12"></polyline>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>